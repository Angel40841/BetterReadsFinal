<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{layout :: site-head}">
    <title>Login</title>

</head>

<body>
<main class="p-5 align-content-center">
    <header>
        <ul class="navbar-nav mr-auto col-12 justify-content-between">
            <li class="nav-item">
                <form th:method="get">
                    <label class="text-white" for="lang" th:text="#{nav_bar_language}">Language</label>
                    <select
                            id="lang"
                            name="lang"
                            onchange="this.form.submit()">
                        <option value="en_US" th:selected="${#locale.toString()} == 'en_US'">English</option>
                        <option value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">Български</option>
                    </select>
                </form>
            </li>
        </ul>
    </header>
    <h1 class="login font-monospace focus-ring" th:text="#{nav_bar_login}">Login</h1>
    <div class="d-flex justify-content-center">
        <div class="row g-3 align-items-center">
            <form th:action="@{/login}"
                  method="POST"
                  th:object="${loginData}">
                <div>
                    <div class="col-auto">
                        <label for="inputUsername" class="col-form-label font-monospace" th:text="#{user_username}">Username</label>
                    </div>
                    <div class="col-auto">
                        <input
                                th:field="*{username}"
                                th:errorclass="is-invalid"
                                type="text"
                                name="username"
                                required
                                minlength="3" maxlength="20"
                                id="inputUsername"
                                class="form-control" aria-describedby="usernameHelpInline">
                    </div>
                </div>
                <div>
                    <div class="col-auto">
                        <label for="inputPassword" class="col-form-label font-monospace" th:text="#{user_password}">Password</label>
                    </div>
                    <div class="col-auto">
                        <input
                                th:field="*{password}"
                                th:errorclass="is-invalid"
                                type="password"
                                name="password"
                                required
                                minlength="3" maxlength="20"
                                id="inputPassword" class="form-control" aria-describedby="passwordHelpInline">
                    </div>
                </div>
                <div class="d-flex justify-content-center mt-2">
                    <button class="btn btn-blue-100 btn-block w-50 font-monospace" type="submit" th:text="#{nav_bar_login}">Login</button>
                </div>
                <div class="d-flex justify-content-center mt-2 font-monospace">
                    <label class="d-flex justify-content-center font-monospace">Or</label>
                    <div class="d-flex mt-2">
                        <a th:href="@{/register}"
                           sec:authorize="!isAuthenticated()"
                           class="btn btn-blue-100 btn-block w-100 font-monospace" th:text="#{nav_bar_register}">Register</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</main>

</body>

</html>